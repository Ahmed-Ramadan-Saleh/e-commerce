<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= mytitle %></title>
    <!-- icon -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="../css/footer.css">

    <style>
      
        /* Light Mode Styles */
        body.light-mode {
            background-color: #ffffff;
            color: #000000;
        }

        .navbar-light .navbar-nav .nav-link.light-mode {
            color: #000000;
        }

        footer.light-mode {
            background-color: #f8f9fa;
            color: #000000;
        }

        /* Dark Mode Styles */
        body.dark-mode {
            background-color: #121212;
            color: #ffffff;
        }

        .navbar-light .navbar-nav .nav-link.dark-mode {
            color: #ffffff;
        }

        footer.dark-mode {
            background-color: #1e1e1e;
            color: #ffffff;
        }

        .card.dark-mode {
            background-color: #1e1e1e;
        }

        .jumbotron.dark-mode {
            background-color: #1e1e1e;
        }

        /* Toggle Button Styles */
        .toggle-mode-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
        
    </style>
</head>
<body class="light-mode">

<%- include('../component/navbar.ejs') %>

<!-- Carousel Section -->
<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="../images/pc_layout.png" class="d-block w-100" alt="Slide 1"style="width: 1920px; height: 500px;">
            <div class="carousel-caption d-none d-md-block">
                <h5>Welcome to Our Store</h5>
                <p>The best products at the best prices!</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="https://via.placeholder.com/1920x500" class="d-block w-100" alt="Slide 2">
            <div class="carousel-caption d-none d-md-block">
                <h5>Discover Amazing Deals</h5>
                <p>Shop our exclusive offers now!</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="https://via.placeholder.com/1920x500" class="d-block w-100" alt="Slide 3">
            <div class="carousel-caption d-none d-md-block">
                <h5>New Arrivals</h5>
                <p>Check out our latest products!</p>
            </div>
        </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>

<!-- Promotional Offers Section -->
<div class="container mt-5">
    <h2 class="text-center">Promotional Offers</h2>
    <div class="row">
      <% let arr =[data[0],data[1],data[2],data[3],data[4],data[5]] %>
<% arr.forEach(element => { %>
  <div class="col-md-4" >
    <div class="card"style="margin-top:5px;">
        <img src="<%= element.images[0] %>" class="card-img-top" alt="Offer 1" style="width: 100%; height: 300px;">
        <div class="card-body">
            <h5 class="card-title"><%= element.productname %></h5>
            <p class="card-text">20% off on all products!</p>
<div class=" d-flex justify-content-between align-item-center">
  
              <a href="#" class="btn btn-primary">Shop Now</a>
              <a href="/productdetails/<%= element._id %>" class="btn btn-primary px-4">View </a>
</div>
        </div>
    </div>
</div>
<% }) %>


    </div>
</div>









<!-- Featured Products Section -->
  <!-- store product in array -->
  <% let newdata =[] %>
  <% for( let item = 1; item < 5; item++ ) { %>
    <% newdata.push(data[data.length -item])    %>
  <% } %>

<div class="container mt-5">
    <h2 class="text-center">Featured Products</h2>
    <div class="row">
      <% newdata.forEach(element => { %>
        <div class="col-md-3">
          <div class="card">
              <img src="<%= element.images[0] %>" class="card-img-top" alt="Product 1" style="width: 100%;height: 250px;">
              <div class="card-body">
                  <h5 class="card-title"><%= element.productname %></h5>
                  <p class="card-text" style="width: 100%;height: 210px;"><%= element.discription %></p>
                  <p class="card-text"><strong>Price:</strong> $100</p>
                  <a href="#" class="btn btn-primary">Buy Now</a>
              </div>
          </div>
      </div>
      <% }) %>


    </div>
</div>

<br>


<!-- Footer Section -->
<%- include('../component/footer.ejs') %>

<!-- Toggle Button -->
<button class="btn btn-secondary toggle-mode-btn" id="toggle-mode"><i class="fas fa-moon"></i> Dark Mode</button>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script>
    // Toggle Dark/Light Mode
    document.getElementById('toggle-mode').addEventListener('click', function() {
        document.body.classList.toggle('dark-mode');
        document.querySelectorAll('.card').forEach(card => card.classList.toggle('dark-mode'));
        document.querySelector('.jumbotron').classList.toggle('dark-mode');
        document.querySelectorAll('.navbar-light .navbar-nav .nav-link').forEach(link => link.classList.toggle('dark-mode'));
        document.querySelectorAll('footer').forEach(footer => footer.classList.toggle('dark-mode'));
        this.innerHTML = document.body.classList.contains('dark-mode') ? '<i class="fas fa-sun"></i> Light Mode' : '<i class="fas fa-moon"></i> Dark Mode';
    });
</script>
</body>
</html>
