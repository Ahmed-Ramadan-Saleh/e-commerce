<!DOCTYPE html>
<html lang="en" data-bs-theme="auto">
  <head>
    <script src="../js/color-modes.js"></script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <meta
      name="author"
      content="Mark Otto, Jacob Thornton, and Bootstrap contributors"
    />
    <meta name="generator" content="Hugo 0.122.0" />
    <title><%= mytitle %></title>

    <!-- icon -->
    <link
      rel="stylesheet"
      href="../bootstrap-icons-1.11.3/font/bootstrap-icons.min.css"
    />

    <link href="../css/bootstrap.min.css" rel="stylesheet" />

    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background-color: #f4f6f9;
        color: #000;
      }
      .form-control {
        background-color: #f4f6f9;
      }
      .form-control:focus {
        color: #181a1b;
        background-color: #f4f6f9;
      }
      .table,
      .table th,
      .table td {
        background-color: #f4f6f9;
        color: #000;
      }

      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }

      .b-example-divider {
        width: 100%;
        height: 3rem;
        background-color: rgba(0, 0, 0, 0.1);
        border: solid rgba(0, 0, 0, 0.15);
        border-width: 1px 0;
        box-shadow: inset 0 0.5em 1.5em rgba(0, 0, 0, 0.1),
          inset 0 0.125em 0.5em rgba(0, 0, 0, 0.15);
      }

      .b-example-vr {
        flex-shrink: 0;
        width: 1.5rem;
      }

      .bi {
        vertical-align: -0.125em;
        fill: currentColor;
      }

      .nav-scroller {
        position: relative;
        z-index: 2;
        height: 2.75rem;
        overflow-y: hidden;
      }

      .nav-scroller .nav {
        display: flex;
        flex-wrap: nowrap;
        padding-bottom: 1rem;
        margin-top: -1px;
        overflow-x: auto;
        text-align: center;
        white-space: nowrap;
        -webkit-overflow-scrolling: touch;
      }

      .btn-bd-primary {
        --bd-violet-bg: #712cf9;
        --bd-violet-rgb: 112.520718, 44.062154, 249.437846;

        --bs-btn-font-weight: 600;
        --bs-btn-color: var(--bs-white);
        --bs-btn-bg: var(--bd-violet-bg);
        --bs-btn-border-color: var(--bd-violet-bg);
        --bs-btn-hover-color: var(--bs-white);
        --bs-btn-hover-bg: #6528e0;
        --bs-btn-hover-border-color: #6528e0;
        --bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);
        --bs-btn-active-color: var(--bs-btn-hover-color);
        --bs-btn-active-bg: #5a23c8;
        --bs-btn-active-border-color: #5a23c8;
      }
      /* light and dark mode */

      .dark-mode .manageproducts {
        background-color: #202324; /* لون الخلفية للوضع الليلي */
        color: #aba499; /* لون النص للوضع الليلي */
      }
      .dark-mode .form-control {
        background-color: #181a1b; /* لون الخلفية للوضع الليلي */
        color: #aba499; /* لون النص للوضع الليلي */
      }
      .dark-mode .table {
        background-color: #181a1b; /* لون الخلفية للوضع الليلي */
        color: #aba499; /* لون النص للوضع الليلي */
      }
      .dark-mode .table th {
        background-color: #181a1b; /* لون الخلفية للوضع الليلي */
        color: #aba499; /* لون النص للوضع الليلي */
      }
      .dark-mode .table td {
        background-color: #181a1b; /* لون الخلفية للوضع الليلي */
        color: #aba499; /* لون النص للوضع الليلي */
      }
    </style>

    <!-- Custom styles for this template -->
    <link href="../css/sidebars.css" rel="stylesheet" />
  </head>
  <body>
    <main class="d-flex w-100">
      <!-- sidebarrrrrrr -->

      <%- include('../../component/admincompo/sidebar.ejs') %>

      <div class="manageproducts w-100">
        <h2 style="text-align: center; margin-top: 60px; font-weight: 600">
          Manage Products
        </h2>
        <br /><br /><br />
        <div style="margin: auto; border-radius: 8px; width: 80%">
          <h3>Details New Product</h3>

          <form
            class="m-4"
            action="/addproduct"
            method="post"
            enctype="multipart/form-data"
          >
            <!-- <form action="/uploud" method="post" enctype="multipart/form-data"> -->

            <div class="mb-3">
              <label class="form-label">Product Name</label>
              <input name="productname" type="text" class="form-control" />
            </div>

            <div class="mb-3">
              <label class="form-label">Discription</label>
              <textarea
                name="discription"
                class="form-control"
                rows="3"
              ></textarea>
            </div>

            <div class="mb-3">
              <label class="form-label">Price</label>
              <input name="price" type="number" class="form-control" />
            </div>

            <div class="mb-3">
              <label class="form-label">Count</label>
              <input name="count" type="number" class="form-control" />
            </div>

            <div class="mb-3">
              <label class="form-label">Categories:</label>
              <select
                name="category"
                class="form-select"
                style="
                  color: #57514a;
                  background-color: #f4f6f9;
                  border-radius: 8px;
                "
              >
                <option selected hidden disabled>Choose here ...</option>
                <option>Fashion</option>
                <option>Electronics</option>
                <option>Cloth</option>
                <option>Home</option>
              </select>
            </div>

            <div
              class="form-control"
              style="
                color: #57514a;
                text-align: center;
                border-radius: 8px;
                margin-bottom: 1%;
              "
            >
              <label
                for="inputt"
                style="font-size: 1.5em; padding: 5%; width: 100%"
              >
                Drag & Drop photos her</label
              >

              <input
                id="inputt"
                name="photos"
                class="d-none"
                type="file"
                multiple="multiple"
              />
            </div>

            <div
              id="addimage"
              style="width: 25%; height: 25%"
              class="m-2 text-center p-2 rounded-top d-flex"
            ></div>

            <label for="uploudAll" class="d-block btn btn-primary mx-3"
              >Add product</label
            >
            <input id="uploudAll" class="d-none" type="submit" />
          </form>
        </div>
        <br /><br />
        <!-- all products -->
        <h3 class="ms-2">All Products</h3>

        <table
          style="width: 99%"
          class="text-center mx-auto table mt-5 table-striped table-bordered"
        >
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">productname</th>
              <th scope="col">price</th>
              <th scope="col">Count</th>
              <th scope="col">Last updated</th>
              <th scope="col">Action</th>
            </tr>
          </thead>

          <tbody>
            <% data.forEach((item, index) => { %>
            <tr>
              <th scope="row"><%= index+1 %></th>
              <td><%= item.productname %></td>
              <td><%= item.price %></td>

              <td><%= item.count %></td>

              <td><%= momen_t(item.updatedAt).format()%></td>
              <td>
                <a
                  data-bs-toggle="tooltip"
                  data-bs-title="View details"
                  data-bs-placement="top"
                  class="btn btn-primary btn-sm"
                  href="/view/<%= item._id %>"
                  ><i class="bi bi-eye"></i
                ></a>

                <a
                  data-bs-toggle="tooltip"
                  data-bs-title="Edit user"
                  data-bs-placement="top"
                  class="btn btn-primary btn-sm"
                  href="/edit/<%= item._id %>"
                >
                  <i class="bi bi-pencil"></i>
                </a>
                <form
                  style="display: inline"
                  action="/edit/<%= item._id %>?_method=DELETE"
                  method="post"
                >
                  <button
                    data-bs-toggle="tooltip"
                    data-bs-title="Delete user"
                    data-bs-placement="top"
                    class="btn btn-danger btn-sm"
                    type="submit"
                  >
                    <i class="bi bi-trash"></i>
                  </button>
                </form>
              </td>
            </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    </main>

    <script>
      // img 1
      let arr = [];
      inputt.addEventListener("change", (eo) => {
        const files = inputt.files;
        for (let i = 0; i < files.length; i++) {
          arr.push(URL.createObjectURL(eo.target.files[i]));
        }
        let sss = "";

        arr.forEach((element) => {
          sss += `<img id="IMGELEMENT"class="m-3 rounded" style=" background-color: #ddd; width: 290px;height: 220px;"  src="${element}" alt=""/>
`;
        });
        addimage.innerHTML = sss;
      });

      // addimage
    </script>
    <script src="../js/bootstrap.bundle.min.js"></script>

    <script src="../js/sidebars.js"></script>
  </body>
</html>
